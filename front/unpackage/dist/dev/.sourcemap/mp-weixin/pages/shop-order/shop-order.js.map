{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/21929/OneDrive/Desktop/ruangongkeshe/ordercafe/front/pages/shop-order/shop-order.vue?e7d1","webpack:///C:/Users/21929/OneDrive/Desktop/ruangongkeshe/ordercafe/front/pages/shop-order/shop-order.vue?35ec","webpack:///C:/Users/21929/OneDrive/Desktop/ruangongkeshe/ordercafe/front/pages/shop-order/shop-order.vue?485c","webpack:///C:/Users/21929/OneDrive/Desktop/ruangongkeshe/ordercafe/front/pages/shop-order/shop-order.vue?8970","uni-app:///pages/shop-order/shop-order.vue","webpack:///C:/Users/21929/OneDrive/Desktop/ruangongkeshe/ordercafe/front/pages/shop-order/shop-order.vue?621c","webpack:///C:/Users/21929/OneDrive/Desktop/ruangongkeshe/ordercafe/front/pages/shop-order/shop-order.vue?114c"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,2G;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACa;;;AAGtE;AAC0L;AAC1L,gBAAgB,gMAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sQAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAA6sB,CAAgB,mtBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgFjuB;AACA,MADA,kBACA;AACA;AACA;AACA,UADA,EACA,KADA,EACA,KADA,EACA,KADA,EACA,KADA,EACA,KADA,CADA;;AAIA,qBAJA;AAKA,cALA;AAMA,cANA;AAOA,oBAPA,EAOA;AACA;AACA,mBADA,CACA;AADA,OARA;AAWA;AACA;AACA;AACA;AAFA,SADA;AAKA,qBALA,EAKA;AACA,+BANA,EAXA;;AAmBA,mBAnBA;AAoBA,gBApBA;AAqBA,cArBA;AAsBA;AACA,wBADA,EAtBA;;;AA0BA,GA5BA;AA6BA;AACA,WADA,qBACA;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","file":"pages/shop-order/shop-order.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/shop-order/shop-order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./shop-order.vue?vue&type=template&id=7c639234&\"\nvar renderjs\nimport script from \"./shop-order.vue?vue&type=script&lang=js&\"\nexport * from \"./shop-order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shop-order.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shop-order/shop-order.vue\"\nexport default component.exports","export * from \"-!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shop-order.vue?vue&type=template&id=7c639234&\"","var components\ntry {\n  components = {\n    mescrollUni: function() {\n      return import(\n        /* webpackChunkName: \"components/mescroll-uni/mescroll-uni\" */ \"@/components/mescroll-uni/mescroll-uni.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.list, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 =\n      item.type == 1 || item.type == 3 ? _vm.priceChange(item.price) : null\n    var m1 = item.type == 2 ? _vm.priceChange(item.price) : null\n    var m2 =\n      item.type == 1 || item.type == 3 ? _vm.priceChange(item.total) : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      m2: m2\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shop-order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shop-order.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<scroll-view  scroll-x class=\"bg-white nav\">\r\n\t\t\t<view class='flex text-center'>\r\n\t\t\t\t<view class=\"cu-item flex-sub text-df \" @click=\"navselect(index,nav)\" v-for=\"(nav,index) in navlist\" :key=\"index\"\r\n\t\t\t\t :class=\"[index == currentIndex ? 'text-red cur' : '']\">\r\n\t\t\t\t\t{{nav}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<mescroll-uni :top=\"88\" @init=\"mescrollInit\" :up=\"upOption\" :down=\"downOption\" @down=\"downCallback\" @up=\"upCallback\">\r\n\t\t\t<view v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t<view class=\"bg-white margin-sm padding-sm solids-bottom radius text-content\">\r\n\t\t\t\t\t<view class=\"flex justify-between\">\r\n\t\t\t\t\t\t<view class=\"text-bold\" style=\"flex-shrink: 0;\">\r\n\t\t\t\t\t\t\t<text class=\"text-red\">{{ item.status == '未支付'?'未支付':'' }}</text>\r\n\t\t\t\t\t\t\t<text class=\"text-green\">{{ item.status == '已支付'?'已支付':'' }}</text>\r\n\t\t\t\t\t\t\t<text class=\"text-red\">{{ item.status == '已发货'?'已发货':'' }}</text>\r\n\t\t\t\t\t\t\t<text class=\"text-blue\">{{ item.status == '已完成'?'已完成':'' }}</text>\r\n\t\t\t\t\t\t\t<text class=\"text-grey\">{{ item.status == '已取消'?'已取消':'' }}</text>\r\n\t\t\t\t\t\t\t<text class=\"text-grey\">{{ item.status == '已退款'?'已退款':'' }}</text>\r\n\t\t\t\t\t\t\t<text v-if=\"item.sfsh=='待审核'&&item.status=='已完成'\" style=\"font-size: 24rpx\">(退货审核中)</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view><text class=\"icon-goods padding-right-sm\"></text><text class=\"text-bold solids-bottom\">{{ item.orderid }}</text></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bg-white margin-xs padding-xs  radius text-content\">\r\n\t\t\t\t\t\t<view class=\"flex padding-top-sm solids-top\">\r\n\t\t\t\t\t\t\t<image :src=\"baseUrl+item.picture\" style=\"flex-shrink: 0;\" mode=\"aspectFill\" class=\" cover radius solids\"></image>\r\n\t\t\t\t\t\t\t<view class=\"text-content padding-left\" style=\"flex-grow: 1;\">\r\n\t\t\t\t\t\t\t\t<view>{{ item.goodname }}</view>\r\n\t\t\t\t\t\t\t\t<view v-if=\"item.type==1 || item.type==3\">{{ item.buynumber }} x ￥{{priceChange(item.price)}}</view>\r\n\t\t\t\t\t\t\t\t<view v-if=\"item.type==2\">{{ item.buynumber }} x {{priceChange(item.price)}}积分</view>\r\n\t\t\t\t\t\t\t\t<view class=\"flex justify-end\">下单时间：{{item.addtime}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"flex justify-end\" v-if=\"item.sfsh\">退货审核：{{item.sfsh}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"flex justify-end\" v-if=\"item.sfsh\">审核回复：{{item.shhf}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"flex justify-end\">备注：{{item.remark}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.type==1 || item.type==3\" class=\"flex justify-end\">合计{{priceChange(item.total)}}元</view>\r\n\t\t\t\t\t\t<view v-if=\"item.type==2\" class=\"flex justify-end\">合计{{ item.total }}积分</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex justify-end\"></view>\r\n\t\t\t\t\t<view class=\"flex justify-end\" style=\"font-size: 24upx;\">\r\n\t\t\t\t\t\t<view v-if=\"item.status == '未支付'\">\r\n\t\t\t\t\t\t\t<view @tap=\"pay(item)\" class=\"round cu-btn lines-grey mid  margin-right-sm\">支付</view>\r\n\t\t\t\t\t\t\t<view @tap=\"cancel(item)\" class=\"round cu-btn lines-grey mid  margin-right-sm\">取消订单</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.status == '已支付'\">\r\n\t\t\t\t\t\t\t<view @tap=\"onCancelTap(item)\" class=\"round cu-btn lines-grey mid  margin-right-sm\">{{item.total>0?'退款':'退订'}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.status == '已完成'\">\r\n\t\t\t\t\t\t\t<view v-if=\"item.sfsh==''\" @tap=\"returnGood(item)\" class=\"round cu-btn lines-grey mid  margin-right-sm\">退货</view>\r\n\t\t\t\t\t\t\t<view @tap=\"orderDiscuss(item)\" class=\"round cu-btn lines-grey mid  margin-right-sm\">评价</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.status == '已发货'\">\r\n\t\t\t\t\t\t\t<view @tap=\"onConfirm(item)\" class=\"round cu-btn lines-grey mid  margin-right-sm\">确认收货</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.status == '已取消'||item.status == '已完成'||item.status == '已退款'\">\r\n\t\t\t\t\t\t\t<view @tap=\"del(item.id)\" class=\"round cu-btn lines-grey mid  margin-right-sm\">删除订单</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.logistics\" @tap=\"logistics(item)\" class=\"round cu-btn lines-grey mid  margin-right-sm\">物流</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<uni-popup class=\"popup-content\" ref=\"returnGoods\" type=\"center\">\r\n\t\t\t\t<form class=\"popup-form\" style=\"background: #fff;width: 300px;display: block;border-radius: 10px;padding: 20px;text-align: center;\">\r\n\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t<textarea style=\"width: 100%;border: 1px solid #eee;border-radius: 10px;text-align: left;padding: 10px;font-size: 14px;\" v-model=\"returnGoodForm.returnreason\" placeholder=\"退货原因\"></textarea>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"btn-content\" style=\"padding: 5px 0;\">\r\n\t\t\t\t\t\t<button style=\"margin: 0 10px\" @tap=\"onCloseWinTap\" class=\"cu-btn bg-cyan\">取消</button>\r\n\t\t\t\t\t\t<button style=\"margin: 0 10px\" @tap=\"onFinishTap\" class=\"cu-btn bg-red\">确认</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</form>\r\n\t\t\t</uni-popup>\r\n\t\t</mescroll-uni>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnavlist: [\r\n\t\t\t\t\t'全部', '未支付','已支付', '已完成', '已取消', '已退款'\r\n\t\t\t\t],\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\tpages: 1,\r\n\t\t\t\tlist: [],\r\n\t\t\t\tmescroll: null, //mescroll实例对象\r\n\t\t\t\tdownOption: {\r\n\t\t\t\t\tauto: false //是否在初始化后,自动执行下拉回调callback; 默认true\r\n\t\t\t\t},\r\n\t\t\t\tupOption: {\r\n\t\t\t\t\tpage: {\r\n\t\t\t\t\t\t// num: 0, // 当前页码,默认0,回调之前会加1,即callback(page)会从1开始\r\n\t\t\t\t\t\t// size: 5 // 每页数据的数量\r\n\t\t\t\t\t},\r\n\t\t\t\t\tnoMoreSize: 3, //如果列表已无数据,可设置列表的总数量要大于半页才显示无更多数据;避免列表数据过少(比如只有一条数据),显示无更多数据会不好看; 默认5\r\n\t\t\t\t\ttextNoMore: '~ 没有更多了 ~',\r\n\t\t\t\t},\r\n\t\t\t\thasNext: true,\r\n\t\t\t\tstatus: '',\r\n\t\t\t\tuser: '',\r\n\t\t\t\treturnGoodForm: {\r\n\t\t\t\t\treturnreason: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tbaseUrl() {\r\n\t\t\t\treturn this.$base.url;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.nav) {\r\n\t\t\t\tthis.status = options.nav\r\n\t\t\t\tfor(let x in this.navlist){\r\n\t\t\t\t\tif(this.status == this.navlist[x]){\r\n\t\t\t\t\t\tthis.currentIndex = Number(x)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onShow() {\r\n\t\t\tlet table = uni.getStorageSync(\"nowTable\");\r\n\t\t\tlet res = await this.$api.session(table)\r\n\t\t\tthis.user = res.data\r\n\t\t\tthis.hasNext = true\r\n\t\t\t// 重新加载数据\r\n\t\t\tif (this.mescroll) this.mescroll.resetUpScroll()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tnavselect(index, nav) {\r\n\t\t\t\tthis.currentIndex = index\r\n\t\t\t\tif (nav == '全部') {\r\n\t\t\t\t\tthis.status = \"\";\r\n\t\t\t\t} else if (nav == '已支付') {\r\n\t\t\t\t\tthis.status = \"已支付\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.status = nav\r\n\t\t\t\t}\r\n\t\t\t\tthis.hasNext = true\r\n\t\t\t\t// 重新加载数据\r\n\t\t\t\tif (this.mescroll) this.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\tpriceChange(price) {\r\n\t\t\t\treturn Number(price).toFixed(2);\r\n\t\t\t},\r\n\t\t\t// mescroll组件初始化的回调,可获取到mescroll对象\r\n\t\t\tmescrollInit(mescroll) {\r\n\t\t\t\tthis.mescroll = mescroll;\r\n\t\t\t},\r\n\t\t\t/*下拉刷新的回调 */\r\n\t\t\tdownCallback(mescroll) {\r\n\t\t\t\tthis.hasNext = true\r\n\t\t\t\t// 重置分页参数页数为1\r\n\t\t\t\tmescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\t/*上拉加载的回调: mescroll携带page的参数, 其中num:当前页 从1开始, size:每页数据条数,默认10 */\r\n\t\t\tasync upCallback(mescroll) {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tpage: mescroll.num,\r\n\t\t\t\t\tlimit: mescroll.size,\r\n\t\t\t\t\tsort: \"addtime\",\r\n\t\t\t\t\torder: \"desc\",\r\n\t\t\t\t\tuserid: uni.getStorageSync('appUserid'),\r\n\t\t\t\t}\r\n\t\t\t\tif (this.status) {\r\n\t\t\t\t\tparams['status'] = this.status\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$api.list('orders', params);\r\n\t\t\t\t// 如果是第一页数据置空\r\n\t\t\t\tif (mescroll.num == 1) this.list = [];\r\n\t\t\t\tthis.list = this.list.concat(res.data.list);\r\n\t\t\t\tif (res.data.list.length == 0) this.hasNext = false;\r\n\t\t\t\tmescroll.endSuccess(mescroll.size, this.hasNext);\r\n\t\t\t},\r\n\t\t\tasync onCancelTap(order) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: `是否确认退${order.total>0?'款':'订'}`,\r\n\t\t\t\t\tsuccess: async function(res) {\r\n\t\t\t\t\t\tlet table = uni.getStorageSync(\"nowTable\");\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\torder.status = '已退款';\r\n\t\t\t\t\t\t\t// 设置订单状态为取消\r\n\t\t\t\t\t\t\tlet res = await _this.$api.update('orders', order);\r\n\t\t\t\t\t\t\tif(order.tablename == `caipinxinxi` && order.type!=3){\r\n\t\t\t\t\t\t\t\t// 加回库存数量\r\n\t\t\t\t\t\t\t\tres = await _this.$api.info(order.tablename, order.goodid);\r\n\t\t\t\t\t\t\t\tif(res.code==0){\r\n\t\t\t\t\t\t\t\t\tres.data.alllimittimes = Number(res.data.alllimittimes) + Number(order.buynumber);\r\n\t\t\t\t\t\t\t\t\tawait _this.$api.update(order.tablename,  res.data);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.hasNext = true;\r\n\t\t\t\t\t\t\t// 重新加载数据\r\n\t\t\t\t\t\t\tif (_this.mescroll) _this.mescroll.resetUpScroll()\r\n\t\t\t\t\t\t\tif(order.type==1 || order.type==3) {\r\n\t\t\t\t\t\t\t\t// 退回用户余额\r\n\t\t\t\t\t\t\t\t_this.user.money = Number((Number(_this.user.money) + Number(order.total)).toFixed(2));\r\n\t\t\t\t\t\t\t\tif(_this.user.jf) {\r\n\t\t\t\t\t\t\t\t\t_this.user.jf = Number((Number(_this.user.jf) - Number(order.total)).toFixed(2));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if(order.type==2) {\r\n\t\t\t\t\t\t\t\t// 退回用户积分\r\n\t\t\t\t\t\t\t\t_this.user.jf = Number((Number(_this.user.jf) + Number(order.total)).toFixed(2));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_this.user.jf<0) {\r\n\t\t\t\t\t\t\t\t_this.user.jf = 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.$api.update(table, _this.user);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\torderDiscuss(order) {\r\n\t\t\t\tthis.$utils.jump(`../${order.tablename}/detail?id=${order.goodid}&&userid=${this.user.id}`)\r\n\t\t\t},\r\n\t\t\t//物流\r\n\t\t\tlogistics(order) {\r\n\t\t\t\tthis.$utils.jump(`./logistics?id=`+order.id);\r\n\t\t\t},\r\n\t\t\treturnGood(order) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '是否退货?',\r\n\t\t\t\t\tcontent: '退货审核通过后,金额将返回账户中',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t_this.returnGoodForm = {\r\n\t\t\t\t\t\t\t\treturnreason: '',\r\n\t\t\t\t\t\t\t\tid: order.id,\r\n\t\t\t\t\t\t\t\tsfsh: '待审核'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.$refs.returnGoods.open();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 完成回复\r\n\t\t\tasync onFinishTap() {\r\n\t\t\t\tif(!this.returnGoodForm.returnreason){\r\n\t\t\t\t\tthis.$utils.msg('请填写退货原因');\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tawait this.$api.update('orders', this.returnGoodForm);\r\n\t\t\t\tthis.$utils.msg('提交成功');\r\n\t\t\t\tthis.$refs.returnGoods.close();\n\t\t\t\tthis.hasNext = true;\n\t\t\t\t// 重新加载数据\n\t\t\t\tif (this.mescroll) this.mescroll.resetUpScroll()\r\n\t\t\t},\r\n\t\t\t// 关闭窗口\r\n\t\t\tonCloseWinTap() {\r\n\t\t\t\tthis.$refs.returnGoods.close()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 取消订单\r\n\t\t\t */\r\n\t\t\tasync cancel(order) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '是否取消订单',\r\n\t\t\t\t\tsuccess: async function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\torder.status = '已取消';\r\n\t\t\t\t\t\t\t// 设置订单状态为取消\r\n\t\t\t\t\t\t\tlet res = await _this.$api.update('orders', order);\r\n\t\t\t\t\t\t\t// 加回库存数量\r\n\t\t\t\t\t\t\tif(order.tablename == `caipinxinxi`){\r\n\t\t\t\t\t\t\t\tres = await _this.$api.info(order.tablename, order.goodid);\r\n\t\t\t\t\t\t\t\tif(res.code==0){\r\n\t\t\t\t\t\t\t\t\tres.data.alllimittimes = res.data.alllimittimes + order.buynumber;\r\n\t\t\t\t\t\t\t\t\tawait _this.$api.update(order.tablename,  res.data);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.hasNext = true;\r\n\t\t\t\t\t\t\t// 重新加载数据\r\n\t\t\t\t\t\t\tif (_this.mescroll) _this.mescroll.resetUpScroll()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 支付订单\r\n\t\t\t */\r\n\t\t\tasync pay(order) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tlet table = uni.getStorageSync(\"nowTable\");\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '是否支付订单',\r\n\t\t\t\t\tsuccess: async function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tif(order.type==1){\r\n\t\t\t\t\t\t\t\tif (_this.user.money - order.total < 0) {\r\n\t\t\t\t\t\t\t\t\t_this.$utils.msg('余额不足，请先充值');\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_this.$utils.msgBack('支付成功');\r\n\t\t\t\t\t\t\t\t// 减少余额\r\n\t\t\t\t\t\t\t\t_this.user.money = Number((Number(_this.user.money) - Number(order.total)).toFixed(2));\r\n\t\t\t\t\t\t\t\tif(_this.user.jf||_this.user.jf==0){\r\n\t\t\t\t\t\t\t\t\t_this.user.jf = Number((Number(_this.user.jf) + Number(order.total)).toFixed(2));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tawait _this.$api.update(table, _this.user);\r\n\t\t\t\t\t\t\t}else if(order.type==2){\r\n\t\t\t\t\t\t\t\tif (_this.user.jf - order.total < 0) {\r\n\t\t\t\t\t\t\t\t\t_this.$utils.msg('积分不足，兑换商品失败');\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_this.$utils.msgBack('兑换成功');\r\n\t\t\t\t\t\t\t\t// 减少积分\r\n\t\t\t\t\t\t\t\t_this.user.jf = Number((Number(_this.user.jf) - Number(order.total)).toFixed(2));\r\n\t\t\t\t\t\t\t\tawait _this.$api.update(table, _this.user);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\torder.status = '已支付';\r\n\t\t\t\t\t\t\t// 设置订单状态为已支付\r\n\t\t\t\t\t\t\tlet res = await _this.$api.update('orders', order);\r\n\t\t\t\t\t\t\t// 重新加载数据\r\n\t\t\t\t\t\t\tif (_this.mescroll) _this.mescroll.resetUpScroll()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t* 确认收货\r\n\t\t\t*/\r\n\t\t\tasync onConfirm(order){\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '是否确认收货',\r\n\t\t\t\t\tsuccess: async function(res) {\r\n\t\t\t\t\t\tlet table = uni.getStorageSync(\"nowTable\");\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\torder.status = '已完成';\r\n\t\t\t\t\t\t\t// 设置订单状态为取消\r\n\t\t\t\t\t\t\tlet res = await _this.$api.update('orders', order);\r\n\t\t\t\t\t\t\t_this.hasNext = true;\r\n\t\t\t\t\t\t\t// 重新加载数据\r\n\t\t\t\t\t\t\tif (_this.mescroll) _this.mescroll.resetUpScroll()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync del(id) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '是否确认删除',\r\n\t\t\t\t\tsuccess: async function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tlet res = await _this.$api.del('orders', JSON.stringify([id]));\r\n\t\t\t\t\t\t\tif (_this.mescroll) _this.mescroll.resetUpScroll();\r\n\t\t\t\t\t\t\t_this.$utils.msg('删除成功')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.cover {\r\n\t\twidth: 150upx;\r\n\t\theight: 150upx;\r\n\t}\r\n</style>\r\n\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shop-order.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\vivaldi download\\\\HBuilderX完整版\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shop-order.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1762950986769\n      var cssReload = require(\"E:/vivaldi download/HBuilderX完整版/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}